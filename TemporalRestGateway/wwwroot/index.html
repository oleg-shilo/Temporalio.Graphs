<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Temporalio.Graphs</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<link rel="stylesheet" href="style.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.0/mermaid.min.js"></script>
<script src="temporal.js"></script>

<body>
    <div>
        <table>
            <tr class="queue">
                <td>Pending Workflows </td>
                <td>In-progress Workflows </td>
                <td>Completed Workflows </td>
                <td> <a href="http://localhost:8233/namespaces/default/workflows">Temporal Dashboard</a></td>
                <td> </td>
            </tr>
            <tr class="queue">
                <td>
                    <div class="dropdowns">
                        <select id="pendingQueue" size="10">
                            <option>&nbsp;</option>
                        </select>
                    </div>
                </td>
                <td>
                    <div class="dropdowns">
                        <select id="inprogressQueue" size="10">
                            <option>&nbsp;</option>
                        </select>
                    </div>
                </td>
                <td>
                    <div class="dropdowns">
                        <select id="processedQueue" size="10">
                            <option>&nbsp;</option>
                        </select>
                    </div>
                </td>
                <td>
                    <table>
                        <tr>
                            <td> <b>Server:</b> </td>
                            <td> <a href="javascript:null" onclick="startServer()">Start</a></td>
                            <td> <a href="javascript:null" onclick="stopServer()">Stop</a></td>
                            <td> <span id="serverStatus">...</span> </td>
                        </tr>

                        <tr>
                            <td> <b>Worker:</b> </td>
                            <td> <a href="javascript:null" onclick="startWorker()">Start</a></td>
                            <td> <a href="javascript:null" onclick="stopWorker()">Stop</a></td>
                            <td> <span id="workerStatus">...</span> </td>
                        </tr>
                        <tr>
                            <td> <b>Workflow:</b> </td>
                            <td> <a href="javascript:null" onclick="startWorkflow()">Start</a></td>
                            <td> </td>
                            <td> </td>
                        </tr>
                    </table>
                </td>
        </table>
        </tr>

        <h3>Selected WF </h3>
        <div id="result"></div>
        <div>
            <b>Input: </b>
            <pre><span id="wfInput"></span> </pre>
        </div>
        <hr>
        <div class="mermaid"></div>
        <pre id="err"></pre>
        <hr>
        <h3>WF events:</h3>
        <div id="history"></div>

        <!-- it has to be loaded after the markup -->
        <script src="mermaid.js"></script>
</body>

</html>